#!/usr/bin/env python3
"""
–ü—Ä–æ—Å—Ç–æ–π —Ç–µ—Å—Ç –¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –∫–æ–ª–æ–Ω–∫–∏ R —Å Telegram ID
"""

def test_column_structure():
    """–ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–æ–≤—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É –∫–æ–ª–æ–Ω–æ–∫ –≤ Google Sheets"""
    print("üöÄ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –∫–æ–ª–æ–Ω–∫–∏ R —Å Telegram ID")
    print("=" * 60)
    
    print("üîç –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è —ç–∫—Å–ø–æ—Ä—Ç–∞ –≤ Google Sheets:")
    print()
    
    # –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–æ–ª–æ–Ω–æ–∫, –∫–∞–∫ –æ–Ω–∞ –±—É–¥–µ—Ç –≤ Google Sheets
    columns = [
        ("A", "–î–∞—Ç–∞ –ó–∞—è–≤–∫–∏", "30.07.2025 14:30"),
        ("B", "–ò–º—è –ì–æ—Å—Ç—è", "–ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤"),
        ("C", "–¢–µ–ª–µ—Ñ–æ–Ω", "+7 (999) 123-45-67"),
        ("D", "–î–∞—Ç–∞ –ø–æ—Å–µ—â–µ–Ω–∏—è", "31.07.2025"),
        ("E", "–í—Ä–µ–º—è", "19:00"),
        ("F", "–ö–æ–ª-–≤–æ –≥–æ—Å—Ç–µ–π", "2"),
        ("G", "–ò—Å—Ç–æ—á–Ω–∏–∫", "–í–ö–æ–Ω—Ç–∞–∫—Ç–µ"),
        ("H", "–¢–ï–ì –¥–ª—è –ê–ú–û", "vk"),
        ("I", "–ü–æ–≤–æ–¥ –í–∏–∑–∏—Ç–∞", "–î–µ–Ω—å —Ä–æ–∂–¥–µ–Ω–∏—è"),
        ("J", "–ö—Ç–æ —Å–æ–∑–¥–∞–ª –∑–∞—è–≤–∫—É", "@nilfts"),
        ("K", "–°—Ç–∞—Ç—É—Å", "–ù–æ–≤–∞—è"),
        ("L", "UTM Source", "vk"),
        ("M", "UTM Medium", "social"),
        ("N", "UTM Campaign", "admin_booking"),
        ("O", "UTM Content", "admin_panel_booking"),
        ("P", "UTM Term", "vk_social_booking"),
        ("Q", "ID –∑–∞—è–≤–∫–∏", "BID-1722343800"),
        ("R", "Telegram ID —Å–æ–∑–¥–∞—Ç–µ–ª—è ‚ú®", "196614680")  # –ù–û–í–ê–Ø –ö–û–õ–û–ù–ö–ê!
    ]
    
    print("–ö–æ–ª–æ–Ω–∫–∏ –≤ Google Sheets:")
    for letter, name, example in columns:
        marker = " ‚Üê –ù–û–í–ê–Ø!" if letter == "R" else ""
        print(f"  {letter}: {name:<25} | –ü—Ä–∏–º–µ—Ä: {example}{marker}")
    
    print(f"\n–í—Å–µ–≥–æ –∫–æ–ª–æ–Ω–æ–∫: {len(columns)}")
    print("\n‚úÖ –£–°–ü–ï–®–ù–û! –ö–æ–ª–æ–Ω–∫–∞ R –¥–æ–±–∞–≤–ª–µ–Ω–∞ –¥–ª—è –∑–∞–ø–∏—Å–∏ Telegram ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è")
    
    print("\n" + "=" * 60)
    print("üìã –ß–¢–û –ò–ó–ú–ï–ù–ò–õ–û–°–¨:")
    print("1. –í export_social_booking_to_sheets() –¥–æ–±–∞–≤–ª–µ–Ω admin_id –≤ –∫–æ–ª–æ–Ω–∫—É R")
    print("2. –í export_guest_booking_to_sheets() –¥–æ–±–∞–≤–ª–µ–Ω user_id –≤ –∫–æ–ª–æ–Ω–∫—É R (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)")
    print("3. –û–±–Ω–æ–≤–ª–µ–Ω—ã –≤—ã–∑–æ–≤—ã —Ñ—É–Ω–∫—Ü–∏–π –≤ booking_flow.py")
    print("4. –¢–µ–ø–µ—Ä—å –≤ —Ç–∞–±–ª–∏—Ü–µ –±—É–¥–µ—Ç –≤–∏–¥–Ω–æ, –∫—Ç–æ –∏–º–µ–Ω–Ω–æ —Å–æ–∑–¥–∞–ª –∫–∞–∂–¥—É—é –∑–∞—è–≤–∫—É!")
    
    return True

def simulate_booking_export():
    """–°–∏–º—É–ª–∏—Ä—É–µ—Ç –ø—Ä–æ—Ü–µ—Å—Å —ç–∫—Å–ø–æ—Ä—Ç–∞ —Å –Ω–æ–≤—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏"""
    print("\nüé≠ –°–ò–ú–£–õ–Ø–¶–ò–Ø –≠–ö–°–ü–û–†–¢–ê –ó–ê–Ø–í–ö–ò:")
    print("-" * 40)
    
    # –ü—Ä–∏–º–µ—Ä –∞–¥–º–∏–Ω—Å–∫–æ–π –∑–∞—è–≤–∫–∏
    admin_booking = {
        'name': '–¢–µ—Å—Ç –¢–µ—Å—Ç–æ–≤–∏—á',
        'phone': '+7 (999) 123-45-67',
        'date': '–∑–∞–≤—Ç—Ä–∞',
        'time': '19:00',
        'guests': '2',
        'reason': '–î–µ–Ω—å —Ä–æ–∂–¥–µ–Ω–∏—è',
        'source': 'source_vk'
    }
    admin_id = 196614680
    
    print("–ê–¥–º–∏–Ω—Å–∫–∞—è –∑–∞—è–≤–∫–∞:")
    print(f"  –ò–º—è: {admin_booking['name']}")
    print(f"  –¢–µ–ª–µ—Ñ–æ–Ω: {admin_booking['phone']}")
    print(f"  –°–æ–∑–¥–∞–ª –∞–¥–º–∏–Ω —Å ID: {admin_id}")
    print(f"  ‚Üí –í –∫–æ–ª–æ–Ω–∫—É R –±—É–¥–µ—Ç –∑–∞–ø–∏—Å–∞–Ω–æ: {admin_id}")
    
    print()
    
    # –ü—Ä–∏–º–µ—Ä –≥–æ—Å—Ç–µ–≤–æ–π –∑–∞—è–≤–∫–∏
    guest_booking = {
        'name': '–ì–æ—Å—Ç—å –ì–æ—Å—Ç–µ–≤–∏—á',
        'phone': '+7 (999) 765-43-21',
        'date': '–ø–æ—Å–ª–µ–∑–∞–≤—Ç—Ä–∞',
        'time': '20:30',
        'guests': '4',
        'reason': '–ö–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤'
    }
    user_id = 208281210
    
    print("–ì–æ—Å—Ç–µ–≤–∞—è –∑–∞—è–≤–∫–∞:")
    print(f"  –ò–º—è: {guest_booking['name']}")
    print(f"  –¢–µ–ª–µ—Ñ–æ–Ω: {guest_booking['phone']}")
    print(f"  –°–æ–∑–¥–∞–ª –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å ID: {user_id}")
    print(f"  ‚Üí –í –∫–æ–ª–æ–Ω–∫—É R –±—É–¥–µ—Ç –∑–∞–ø–∏—Å–∞–Ω–æ: {user_id}")
    
    return True

if __name__ == "__main__":
    test_column_structure()
    simulate_booking_export()
    
    print("\nüéâ –ì–û–¢–û–í–û! –ö–æ–ª–æ–Ω–∫–∞ R —Ç–µ–ø–µ—Ä—å –±—É–¥–µ—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å Telegram ID —Å–æ–∑–¥–∞—Ç–µ–ª—è –∑–∞—è–≤–∫–∏!")

# üîó –î–£–ë–õ–ò–†–£–Æ–©–ò–ô –≠–ö–°–ü–û–†–¢ –í –î–û–ü–û–õ–ù–ò–¢–ï–õ–¨–ù–£–Æ –¢–ê–ë–õ–ò–¶–£

## üéØ –ó–∞–¥–∞—á–∞
–ù–∞—Å—Ç—Ä–æ–∏—Ç—å –¥—É–±–ª–∏—Ä—É—é—â–∏–π —ç–∫—Å–ø–æ—Ä—Ç –≤—Å–µ—Ö –∑–∞—è–≤–æ–∫ –Ω–∞ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—É—é Google Sheets —Ç–∞–±–ª–∏—Ü—É —Å —É–ø—Ä–æ—â–µ–Ω–Ω–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π –∫–æ–ª–æ–Ω–æ–∫ A-P.

## ‚úÖ –ß—Ç–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ

### 1. –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (`config.py`):
```python
# –ü–∞—Ä—Å–∏–Ω–≥ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –∫–ª—é—á–µ–π —Ç–∞–±–ª–∏—Ü –∏–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π –æ–∫—Ä—É–∂–µ–Ω–∏—è
GOOGLE_SHEET_KEY_RAW = os.getenv("GOOGLE_SHEET_KEY")
if GOOGLE_SHEET_KEY_RAW:
    GOOGLE_SHEET_KEYS = [key.strip() for key in GOOGLE_SHEET_KEY_RAW.split(',')]
    GOOGLE_SHEET_KEY = GOOGLE_SHEET_KEYS[0]  # –û—Å–Ω–æ–≤–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞
    GOOGLE_SHEET_KEY_SECONDARY = GOOGLE_SHEET_KEYS[1]  # –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞
```

### 2. –ù–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏—è —ç–∫—Å–ø–æ—Ä—Ç–∞ (`social_bookings_export.py`):
```python
def export_booking_to_secondary_table(booking_data, user_id, is_admin_booking=False):
    """–≠–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç –∑–∞—è–≤–∫—É –≤ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—É—é —Ç–∞–±–ª–∏—Ü—É —Å –∫–æ–ª–æ–Ω–∫–∞–º–∏ A-P"""
```

### 3. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º–∏ —Ñ—É–Ω–∫—Ü–∏—è–º–∏:
- `export_social_booking_to_sheets()` ‚Üí —Ç–µ–ø–µ—Ä—å —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç –≤ –æ–±–µ —Ç–∞–±–ª–∏—Ü—ã
- `export_guest_booking_to_sheets()` ‚Üí —Ç–µ–ø–µ—Ä—å —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç –≤ –æ–±–µ —Ç–∞–±–ª–∏—Ü—ã

## üìä –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π —Ç–∞–±–ª–∏—Ü—ã

| –ö–æ–ª–æ–Ω–∫–∞ | –ù–∞–∑–≤–∞–Ω–∏–µ | –ò—Å—Ç–æ—á–Ω–∏–∫ –¥–∞–Ω–Ω—ã—Ö | –ü—Ä–∏–º–µ—Ä |
|---------|----------|-----------------|--------|
| **A** | –î–∞—Ç–∞ –ó–∞—è–≤–∫–∏ | –¢–µ–∫—É—â–∞—è –¥–∞—Ç–∞/–≤—Ä–µ–º—è | `30.07.2025 14:30` |
| **B** | –ö–∞–Ω–∞–ª | –¢–∏–ø –∑–∞—è–≤–∫–∏ | `–ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å` / `–ì–æ—Å—Ç–µ–≤–æ–µ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ` |
| **C** | –ö—Ç–æ —Å–æ–∑–¥–∞–ª –∑–∞—è–≤–∫—É | ID —Å–æ–∑–¥–∞—Ç–µ–ª—è | `@nilfts` / `üë§ –ü–æ—Å–µ—Ç–∏—Ç–µ–ª—å` |
| **D** | –°—Ç–∞—Ç—É—Å | –§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ | `–ù–æ–≤–∞—è` |
| **E** | ID us | –£–Ω–∏–∫–∞–ª—å–Ω—ã–π ID | `BID-1722343800` |
| **F** | –ò–º—è –ì–æ—Å—Ç—è | –ò–∑ —Ñ–æ—Ä–º—ã | `–ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤` |
| **G** | –¢–µ–ª–µ—Ñ–æ–Ω | –ò–∑ —Ñ–æ—Ä–º—ã | `+7 (999) 123-45-67` |
| **H** | –î–∞—Ç–∞ / –í—Ä–µ–º—è | –û–±—ä–µ–¥–∏–Ω–µ–Ω–Ω—ã–µ –¥–∞—Ç–∞+–≤—Ä–µ–º—è | `31.07.2025 19:00` |
| **I** | –ö–æ–ª-–≤–æ –≥–æ—Å—Ç–µ–π | –ò–∑ —Ñ–æ—Ä–º—ã | `2` |
| **J** | –ü–æ–≤–æ–¥ –í–∏–∑–∏—Ç–∞ | –ò–∑ —Ñ–æ—Ä–º—ã | `–î–µ–Ω—å —Ä–æ–∂–¥–µ–Ω–∏—è` |
| **K** | UTM Source | –ü–æ –∏—Å—Ç–æ—á–Ω–∏–∫—É | `vk` / `bot_tg` |
| **L** | UTM Medium | –ü–æ –∏—Å—Ç–æ—á–Ω–∏–∫—É | `social` / `guest_booking` |
| **M** | UTM Campaign | –ü–æ –∏—Å—Ç–æ—á–Ω–∏–∫—É | `admin_booking` / `direct_guest` |
| **N** | UTM Content | –ü–æ –∏—Å—Ç–æ—á–Ω–∏–∫—É | `admin_panel_booking` |
| **O** | UTM Term | –ü–æ –∏—Å—Ç–æ—á–Ω–∏–∫—É | `vk_social_booking` |
| **P** | ID TG | Telegram ID | `196614680` |

## üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∞

### –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è –æ–∫—Ä—É–∂–µ–Ω–∏—è:
```bash
GOOGLE_SHEET_KEY="1bp7NwfWe1MCb7S6wkaQtaxJEIDaFcFPwv9V_kzlchXs, 1QL1CRY3M9Av-WlDS5gswA2Lq14OPdt0TME_dpwPIuC4"
```
- **–ü–µ—Ä–≤—ã–π –∫–ª—é—á**: –æ—Å–Ω–æ–≤–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞ (—Å—É—â–µ—Å—Ç–≤—É—é—â–∞—è)
- **–í—Ç–æ—Ä–æ–π –∫–ª—é—á**: –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞ (–Ω–æ–≤–∞—è)

### –ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã –≤–∫–ª–∞–¥–æ–∫:
```python
SOCIAL_BOOKINGS_SHEET_GID = "1842872487"  # –û—Å–Ω–æ–≤–Ω–∞—è –≤–∫–ª–∞–¥–∫–∞
SECONDARY_BOOKINGS_SHEET_GID = "871899838"  # –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –≤–∫–ª–∞–¥–∫–∞
```

## üîÑ –õ–æ–≥–∏–∫–∞ —Ä–∞–±–æ—Ç—ã

### –î–ª—è –∫–∞–∂–¥–æ–π –∑–∞—è–≤–∫–∏:
1. **–û—Å–Ω–æ–≤–Ω–æ–π —ç–∫—Å–ø–æ—Ä—Ç** ‚Üí —ç–∫—Å–ø–æ—Ä—Ç –≤ –æ—Å–Ω–æ–≤–Ω—É—é —Ç–∞–±–ª–∏—Ü—É (17 –∫–æ–ª–æ–Ω–æ–∫ A-Q)
2. **–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π —ç–∫—Å–ø–æ—Ä—Ç** ‚Üí —ç–∫—Å–ø–æ—Ä—Ç –≤ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—É—é —Ç–∞–±–ª–∏—Ü—É (16 –∫–æ–ª–æ–Ω–æ–∫ A-P)
3. **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ** —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –æ–±–µ–∏—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
4. **–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫** - –µ—Å–ª–∏ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π —ç–∫—Å–ø–æ—Ä—Ç –Ω–µ —É–¥–∞–ª—Å—è, –æ—Å–Ω–æ–≤–Ω–æ–π –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å

### –†–∞–∑–ª–∏—á–∏—è –ø–æ —Ç–∏–ø—É –∑–∞—è–≤–∫–∏:

#### –ê–¥–º–∏–Ω—Å–∫–∏–µ –∑–∞—è–≤–∫–∏:
- **–ö–∞–Ω–∞–ª (B)**: "–ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å"
- **–°–æ–∑–¥–∞—Ç–µ–ª—å (C)**: `@nilfts` (–ø–æ Telegram ID)
- **UTM –¥–∞–Ω–Ω—ã–µ**: –ø–æ –∏—Å—Ç–æ—á–Ω–∏–∫—É (`source_vk`, `source_inst`, etc.)

#### –ì–æ—Å—Ç–µ–≤—ã–µ –∑–∞—è–≤–∫–∏:
- **–ö–∞–Ω–∞–ª (B)**: "–ì–æ—Å—Ç–µ–≤–æ–µ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ"
- **–°–æ–∑–¥–∞—Ç–µ–ª—å (C)**: "üë§ –ü–æ—Å–µ—Ç–∏—Ç–µ–ª—å (—á–µ—Ä–µ–∑ –±–æ—Ç–∞)"
- **UTM –¥–∞–Ω–Ω—ã–µ**: —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–ª—è bot_tg

## üí° –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞

1. **–î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö** - –∑–∞—â–∏—Ç–∞ –æ—Ç –ø–æ—Ç–µ—Ä–∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏
2. **–†–∞–∑–Ω—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã** - –æ—Å–Ω–æ–≤–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞ –ø–æ–ª–Ω–∞—è, –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è —É–ø—Ä–æ—â–µ–Ω–Ω–∞—è
3. **–ù–µ–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å** - –µ—Å–ª–∏ –æ–¥–Ω–∞ —Ç–∞–±–ª–∏—Ü–∞ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞, –≤—Ç–æ—Ä–∞—è –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å
4. **–ì–∏–±–∫–æ—Å—Ç—å** - –ª–µ–≥–∫–æ –æ—Ç–∫–ª—é—á–∏—Ç—å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π —ç–∫—Å–ø–æ—Ä—Ç
5. **–û–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å** - –æ—Å–Ω–æ–≤–Ω–∞—è –ª–æ–≥–∏–∫–∞ –Ω–µ –∏–∑–º–µ–Ω–∏–ª–∞—Å—å

## üîó –°—Å—ã–ª–∫–∏

- **–û—Å–Ω–æ–≤–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞**: https://docs.google.com/spreadsheets/d/1bp7NwfWe1MCb7S6wkaQtaxJEIDaFcFPwv9V_kzlchXs/edit?gid=1842872487
- **–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞**: https://docs.google.com/spreadsheets/d/1QL1CRY3M9Av-WlDS5gswA2Lq14OPdt0TME_dpwPIuC4/edit?gid=871899838

---

**‚úÖ –ì–æ—Ç–æ–≤–æ –∫ –¥–µ–ø–ª–æ—é –Ω–∞ GitHub –∏ Railway!**

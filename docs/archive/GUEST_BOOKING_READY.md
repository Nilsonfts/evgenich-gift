# ‚úÖ –°–ò–°–¢–ï–ú–ê –ì–û–°–¢–ï–í–û–ì–û –ë–†–û–ù–ò–†–û–í–ê–ù–ò–Ø - –ì–û–¢–û–í–ê

## üéØ –ß—Ç–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ

### 1. –î–≤–æ–π–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –∫–ª–∞–≤–∏–∞—Ç—É—Ä
- **–ê–¥–º–∏–Ω—Å–∫–∞—è**: `get_traffic_source_keyboard()` - –¥–ª—è —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ (–í–ö, Instagram, –ë–æ—Ç –¢–ì, –ó–∞–±—Ä–æ–Ω–∏—Ä—É–π –ï–≤–≥–µ–Ω–∏—á–∞)
- **–ì–æ—Å—Ç–µ–≤–∞—è**: `get_guest_source_keyboard()` - –¥–ª—è —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ–≥–æ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è (9 –æ–ø—Ü–∏–π)

### 2. –ì–æ—Å—Ç–µ–≤—ã–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏ —Ç—Ä–∞—Ñ–∏–∫–∞
```
üîç –Ø–Ω–¥–µ–∫—Å        -> guest_source_yandex
üîç Google        -> guest_source_google  
üìç 2–ì–ò–°          -> guest_source_2gis
üçΩ –†–µ—Å—Ç–æ—Ä–µ–π—Ç–∏–Ω–≥   -> guest_source_restorating
üì∏ Instagram     -> guest_source_instagram
üìò –í–ö–æ–Ω—Ç–∞–∫—Ç–µ     -> guest_source_vkontakte
üë• –†–∞—Å—Å–∫–∞–∑–∞–ª–∏ –¥—Ä—É–∑—å—è -> guest_source_friends
üí¨ Telegram      -> guest_source_telegram
‚úèÔ∏è –î—Ä—É–≥–æ–µ (–Ω–∞–ø–∏—à—É —Å–∞–º) -> guest_source_other
```

### 3. UTM-—Ç—Ä–µ–∫–∏–Ω–≥ –¥–ª—è –≤—Å–µ—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤
- **GUEST_SOURCE_UTM_DATA**: UTM-–¥–∞–Ω–Ω—ã–µ –¥–ª—è 9 –≥–æ—Å—Ç–µ–≤—ã—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤
- **ALL_SOURCE_UTM_DATA**: –û–±—ä–µ–¥–∏–Ω–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ (–∞–¥–º–∏–Ω—Å–∫–∏–µ + –≥–æ—Å—Ç–µ–≤—ã–µ)
- –ü–æ–ª–Ω–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞ –ø–æ –∏—Å—Ç–æ—á–Ω–∏–∫–∞–º —Ç—Ä–∞—Ñ–∏–∫–∞

### 4. –û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏
- `handle_guest_source_callback()` - –æ–±—Ä–∞–±–æ—Ç–∫–∞ –≤—ã–±–æ—Ä–∞ –≥–æ—Å—Ç–µ–≤–æ–≥–æ –∏—Å—Ç–æ—á–Ω–∏–∫–∞
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∫–∞—Å—Ç–æ–º–Ω–æ–≥–æ –≤–≤–æ–¥–∞ –∏—Å—Ç–æ—á–Ω–∏–∫–∞ —á–µ—Ä–µ–∑ —à–∞–≥ `custom_source`
- –û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–π –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ç–æ—Ä —à–∞–≥–æ–≤ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è

### 5. –£–ª—É—á—à–µ–Ω–Ω—ã–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
- HTML-—Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å **–∂–∏—Ä–Ω—ã–º —Ç–µ–∫—Å—Ç–æ–º**
- Telegram-—Ç–µ–≥–∏ –∞–¥–º–∏–Ω–æ–≤ (@nilfts, @kristina_evgenich, @xquerel)
- –•–µ—à—Ç–µ–≥ #–±—Ä–æ–Ω—å_—Å–æ—Ü_—Å–µ—Ç–∏ –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏
- –ú–µ—Ç–∫–∞ –≤—Ä–µ–º–µ–Ω–∏ "–°–æ–∑–¥–∞–Ω–æ: DD.MM.YYYY HH:MM"
- –°–µ–∫—Ü–∏–æ–Ω–Ω—ã–µ –∑–∞–≥–æ–ª–æ–≤–∫–∏ (üìã –î–µ—Ç–∞–ª–∏ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è, üìä –ê–Ω–∞–ª–∏—Ç–∏–∫–∞)

## üîÑ –õ–æ–≥–∏–∫–∞ —Ä–∞–±–æ—Ç—ã

### –û–±—ã—á–Ω–æ–µ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ (–≥–æ—Å—Ç—å):
1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: "üìç –ó–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞—Ç—å —Å—Ç–æ–ª" ‚Üí "ü§ñ –ó–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞—Ç—å —á–µ—Ä–µ–∑ –º–µ–Ω—è"
2. –ò–º—è ‚Üí –¢–µ–ª–µ—Ñ–æ–Ω ‚Üí –î–∞—Ç–∞ ‚Üí –í—Ä–µ–º—è ‚Üí –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –≥–æ—Å—Ç–µ–π
3. **–ò—Å—Ç–æ—á–Ω–∏–∫**: –ì–æ—Å—Ç–µ–≤–∞—è –∫–ª–∞–≤–∏–∞—Ç—É—Ä–∞ (9 –æ–ø—Ü–∏–π)
4. –ü–æ–≤–æ–¥ ‚Üí –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ ‚Üí –û—Ç–ø—Ä–∞–≤–∫–∞

### –ê–¥–º–∏–Ω—Å–∫–æ–µ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ:
1. –°–æ—Ç—Ä—É–¥–Ω–∏–∫: "üì® –û—Ç–ø—Ä–∞–≤–∏—Ç—å –ë–†–û–ù–¨"
2. –ò–º—è –∫–ª–∏–µ–Ω—Ç–∞ ‚Üí –¢–µ–ª–µ—Ñ–æ–Ω ‚Üí –î–∞—Ç–∞ ‚Üí –í—Ä–µ–º—è ‚Üí –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –≥–æ—Å—Ç–µ–π  
3. **–ò—Å—Ç–æ—á–Ω–∏–∫**: –ê–¥–º–∏–Ω—Å–∫–∞—è –∫–ª–∞–≤–∏–∞—Ç—É—Ä–∞ (4 –æ–ø—Ü–∏–∏)
4. –ü–æ–≤–æ–¥ ‚Üí –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ ‚Üí –û—Ç–ø—Ä–∞–≤–∫–∞

### –ö–∞—Å—Ç–æ–º–Ω—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫:
1. –ì–æ—Å—Ç—å –≤—ã–±–∏—Ä–∞–µ—Ç "‚úèÔ∏è –î—Ä—É–≥–æ–µ (–Ω–∞–ø–∏—à—É —Å–∞–º)"
2. –ü–µ—Ä–µ—Ö–æ–¥ –Ω–∞ —à–∞–≥ `custom_source`
3. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–≤–æ–¥–∏—Ç —Ç–µ–∫—Å—Ç ‚Üí –°–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –∫–∞–∫ –∏—Å—Ç–æ—á–Ω–∏–∫
4. –ü–µ—Ä–µ—Ö–æ–¥ –∫ —à–∞–≥—É "–ü–æ–≤–æ–¥"

## üìä –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö

```python
GUEST_SOURCE_UTM_DATA = {
    'guest_source_yandex': {
        'utm_source': 'yandex',
        'utm_medium': 'search',
        'utm_campaign': 'organic',
        'utm_content': 'search_result',
        'utm_term': 'restaurant_search'
    },
    # ... –æ—Å—Ç–∞–ª—å–Ω—ã–µ 8 –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤
}
```

## üéâ –ì–æ—Ç–æ–≤–æ –∫ —Ä–∞–±–æ—Ç–µ!

–°–∏—Å—Ç–µ–º–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∞ –∏ –≥–æ—Ç–æ–≤–∞ –∫ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—é:
- ‚úÖ –í—Å–µ —Ñ–∞–π–ª—ã –æ–±–Ω–æ–≤–ª–µ–Ω—ã
- ‚úÖ –°–∏–Ω—Ç–∞–∫—Å–∏—Å –ø—Ä–æ–≤–µ—Ä–µ–Ω  
- ‚úÖ –ò–º–ø–æ—Ä—Ç—ã —Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- ‚úÖ UTM-–¥–∞–Ω–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã
- ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω—ã

–ú–æ–∂–Ω–æ –∑–∞–ø—É—Å–∫–∞—Ç—å –±–æ—Ç–∞ –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–æ–≤—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª!

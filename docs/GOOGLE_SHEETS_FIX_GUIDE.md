# üîß –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—é —ç–∫—Å–ø–æ—Ä—Ç–∞ –≤ Google Sheets –Ω–∞ Railway

## –ü—Ä–æ–±–ª–µ–º–∞
- –ù–æ–≤—ã–µ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –Ω–µ –≤—ã–≥—Ä—É–∂–∞—é—Ç—Å—è –≤ Google Sheets
- –û—Ç—á—ë—Ç—ã –ø–µ—Ä–µ—Å—Ç–∞–ª–∏ —Ä–∞–±–æ—Ç–∞—Ç—å

## –ü—Ä–∏—á–∏–Ω—ã
1. **GOOGLE_CREDENTIALS_JSON** –∑–∞–¥–∞–Ω –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ (–º–Ω–æ–≥–æ—Å—Ç—Ä–æ—á–Ω—ã–π JSON —Å–æ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–º–∏ —Å–∏–º–≤–æ–ª–∞–º–∏)
2. **USE_POSTGRES** –º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
3. –í–∫–ª–∞–¥–∫–∞ "–í—ã–≥—Ä—É–∑–∫–∞ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π" –º–æ–∂–µ—Ç –Ω–µ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞—Ç—å –∏–ª–∏ –∏–º–µ—Ç—å –¥—Ä—É–≥–æ–µ –∏–º—è

## ‚úÖ –†–µ—à–µ–Ω–∏–µ

### –®–∞–≥ 1: –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è –Ω–∞ Railway

–í **Railway ‚Üí Settings ‚Üí Variables (Raw editor)**:

```
# 1. BOT_TOKEN - –æ—Å—Ç–∞–≤—å—Ç–µ –∫–∞–∫ –µ—Å—Ç—å (—É–∫–æ—Ä–æ—á–µ–Ω –¥–ª—è –ø—Ä–∏–º–µ—Ä–∞)
BOT_TOKEN=8096059778:AAHo9ybYhmJiUoAfSCRzKDwJUbBcxBvIz0Y

# 2. USE_POSTGRES - —É–±–µ—Ä–∏—Ç–µ –ª–∏—à–Ω–∏–π —Ç–µ–∫—Å—Ç, –æ—Å—Ç–∞–≤—å—Ç–µ —Ç–æ–ª—å–∫–æ:
USE_POSTGRES=true

# 3. GOOGLE_SHEET_KEY - –æ—Å—Ç–∞–≤—å—Ç–µ –∫–∞–∫ –µ—Å—Ç—å
GOOGLE_SHEET_KEY=1bp7NwfWe1MCb7S6wkaQtaxJEIDaFcFPwv9V_kzlchXs

# 4. GOOGLE_CREDENTIALS_JSON - –°–ê–ú–û–ï –í–ê–ñ–ù–û–ï!
# –î–æ–ª–∂–µ–Ω –±—ã—Ç—å –ö–û–ú–ü–ê–ö–¢–ù–´–ô –æ–¥–Ω–æ—Å—Ç—Ä–æ—á–Ω—ã–π JSON –±–µ–∑ –ø–µ—Ä–µ–Ω–æ—Å–æ–≤ —Å—Ç—Ä–æ–∫!
# ‚ùå –ù–ï–ü–†–ê–í–ò–õ–¨–ù–û:
# GOOGLE_CREDENTIALS_JSON={"type": "service_account",
# "private_key": "-----BEGIN PRIVATE KEY-----\n..."}

# ‚úÖ –ü–†–ê–í–ò–õ–¨–ù–û: –≤—Å—ë –≤ –æ–¥–Ω—É —Å—Ç—Ä–æ–∫—É!
GOOGLE_CREDENTIALS_JSON={"type": "service_account", "project_id": "gen-lang-client-0841321145", "private_key_id": "bbddef982c5afc18445529d51eb5a821fbc97b0a", "private_key": "-----BEGIN PRIVATE KEY-----\nMIIEvAIBADANBgkqhkiG9w0BAQEFA..."}
```

#### üîë –ö–∞–∫ —Å—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞—Ç—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π `GOOGLE_CREDENTIALS_JSON`:

**–í–∞—Ä–∏–∞–Ω—Ç 1: –õ–æ–∫–∞–ª—å–Ω–æ (–Ω–∞ —Å–≤–æ–µ–º –∫–æ–º–ø—å—é—Ç–µ—Ä–µ)**

–ï—Å–ª–∏ —É –≤–∞—Å –µ—Å—Ç—å —Ñ–∞–π–ª `google_creds.json`:

```bash
# –° –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–º jq (–µ—Å–ª–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω)
jq -c . google_creds.json

# –ò–ª–∏ –±–µ–∑ jq (—Ä–∞–±–æ—Ç–∞–µ—Ç –≤–µ–∑–¥–µ)
python -c 'import json; print(json.dumps(json.load(open("google_creds.json"))))'
```

–°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –∏ –≤—Å—Ç–∞–≤—å—Ç–µ –≤ Railway raw editor –∫–∞–∫ –∑–Ω–∞—á–µ–Ω–∏–µ `GOOGLE_CREDENTIALS_JSON`

**–í–∞—Ä–∏–∞–Ω—Ç 2: Base64 (–µ—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã —Å —Å–∏–º–≤–æ–ª–∞–º–∏)**

```bash
# –ö–æ–¥–∏—Ä—É–µ–º —Ñ–∞–π–ª –≤ base64
base64 -w0 google_creds.json

# –†–µ–∑—É–ª—å—Ç–∞—Ç –≤—Å—Ç–∞–≤–ª—è–µ–º –≤ Railway:
GOOGLE_CREDENTIALS_JSON_B64=eyJ0eXBlIjogInNlcnZpY2VfYWNjb3VudCIsIC4uLn0=
```

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Ä–∞—Å–ø–∞–∫—É–µ—Ç —ç—Ç–æ—Ç base64.

### –®–∞–≥ 2: –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è (–Ω–∞ Railway)

–í **Railway ‚Üí Deployments ‚Üí Logs**, –ø–æ—Å–ª–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –∑–∞–ø—É—Å—Ç–∏—Ç–µ:

```bash
# –ü—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ —Å–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞
python test_sheets_integration.py
```

–î–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å:
```
‚úÖ PASS  Environment Variables
‚úÖ PASS  Config Loading
‚úÖ PASS  Credentials JSON Parsing
‚úÖ PASS  Google Sheets Connection
‚úÖ PASS  Database Connection
‚úÖ PASS  Export Function
```

### –®–∞–≥ 3: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∞–±–ª–∏—Ü—ã Google Sheets

1. –û—Ç–∫—Ä–æ–π—Ç–µ –≤–∞—à—É Google-—Ç–∞–±–ª–∏—Ü—É: https://docs.google.com/spreadsheets/d/1bp7NwfWe1MCb7S6wkaQtaxJEIDaFcFPwv9V_kzlchXs/edit

2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏—è –≤–∫–ª–∞–¥–æ–∫** (–æ–Ω–∏ —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã –∫ —Ä–µ–≥–∏—Å—Ç—Ä—É):
   - `–í—ã–≥—Ä—É–∑–∫–∞ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π` ‚Äî –¥–ª—è –æ—Å–Ω–æ–≤–Ω–æ–≥–æ —ç–∫—Å–ø–æ—Ä—Ç–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π ‚úÖ
   - –ï—Å–ª–∏ –µ—ë –Ω–µ—Ç ‚Äî –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –µ—ë —Å–æ–∑–¥–∞—Å—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏

3. **–ü—Ä–µ–¥–æ—Å—Ç–∞–≤—å—Ç–µ –¥–æ—Å—Ç—É–ø**:
   - –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ —Å–µ—Ä–≤–∏—Å–Ω—ã–π –∞–∫–∫–∞—É–Ω—Ç `evgenich-logger@gen-lang-client-0841321145.iam.gserviceaccount.com` –∏–º–µ–µ—Ç –¥–æ—Å—Ç—É–ø –∫ —Ç–∞–±–ª–∏—Ü–µ:
     - –û—Ç–∫—Ä–æ–π—Ç–µ —Ç–∞–±–ª–∏—Ü—É ‚Üí –û–±—â–∏–π –¥–æ—Å—Ç—É–ø ‚Üí –î–æ–±–∞–≤—å—Ç–µ —ç—Ç–æ—Ç email
     - –î–∞–π—Ç–µ –ø—Ä–∞–≤–∞ **–†–µ–¥–∞–∫—Ç–æ—Ä**

### –®–∞–≥ 4: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —ç–∫—Å–ø–æ—Ä—Ç–∞

–ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –≤ Railway:

1. **–†—É—á–Ω–æ–π —ç–∫—Å–ø–æ—Ä—Ç** (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ —Å—Ä–æ—á–Ω–æ):
   ```bash
   python utils/export_to_sheets.py
   ```

2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –Ω–æ–≤—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –¥–æ–±–∞–≤–ª—è—é—Ç—Å—è**:
   - –ö–æ–≥–¥–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–∏—à–µ—Ç –±–æ—Ç—É `/start`, –æ–Ω –¥–æ–ª–∂–µ–Ω –ø–æ—è–≤–∏—Ç—å—Å—è –≤ —Ç–∞–±–ª–∏—Ü–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏: –∏—â–∏—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏—è `G-Sheets | ...`

## üîç –ß—Ç–æ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –≤ –ª–æ–≥–∞—Ö Railway?

–ò—â–∏—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏—è:

| –°–æ–æ–±—â–µ–Ω–∏–µ | –ó–Ω–∞—á–µ–Ω–∏–µ |
|-----------|----------|
| `‚úÖ PostgreSQL: –í–∫–ª—é—á–µ–Ω` | –ë–î —Ä–∞–±–æ—Ç–∞–µ—Ç ‚úÖ |
| `‚úÖ Google Sheets: –í–∫–ª—é—á–µ–Ω` | Credentials –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ ‚úÖ |
| `G-Sheets | –£—Å–ø–µ—à–Ω–æ–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ` | –≠–∫—Å–ø–æ—Ä—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç ‚úÖ |
| `G-Sheets | –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å ID ... —É—Å–ø–µ—à–Ω–æ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω` | –ù–æ–≤—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –¥–æ–±–∞–≤–ª–µ–Ω ‚úÖ |
| `GOOGLE_CREDENTIALS_JSON –Ω–µ —Å–æ–¥–µ—Ä–∂–∏—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π JSON` | ‚ùå –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è –Ω–µ–≤–µ—Ä–Ω–∞—è |
| `–õ–∏—Å—Ç –Ω–µ –Ω–∞–π–¥–µ–Ω. –î–æ—Å—Ç—É–ø–Ω—ã–µ –≤–∫–ª–∞–¥–∫–∏: ...` | –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∏–º—è –≤–∫–ª–∞–¥–∫–∏ |

## üìã –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è

1. **–ü—Ä–∏–≤–∞—Ç–Ω—ã–π –∫–ª—é—á —Å–∫–æ–º–ø—Ä–æ–º–µ—Ç–∏—Ä–æ–≤–∞–Ω** üîê
   - –í—ã –ø–æ–∫–∞–∑–∞–ª–∏ –ø—Ä–∏–≤–∞—Ç–Ω—ã–π –∫–ª—é—á –ø—É–±–ª–∏—á–Ω–æ (–≤ —Å–æ–æ–±—â–µ–Ω–∏–∏ GitHub)
   - ‚ùå **–ù–ï –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –µ–≥–æ –±–æ–ª—å—à–µ!**
   - ‚úÖ –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π –∫–ª—é—á –≤ Google Cloud Console:
     - –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ Google Cloud ‚Üí Service Accounts
     - –ù–∞–π–¥–∏—Ç–µ `evgenich-logger`
     - –£–¥–∞–ª–∏—Ç–µ —Å—Ç–∞—Ä—ã–π –∫–ª—é—á
     - –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π JSON –∫–ª—é—á
     - –û–±–Ω–æ–≤–∏—Ç–µ `GOOGLE_CREDENTIALS_JSON` –Ω–∞ Railway

2. **–ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã –∫ —Ä–µ–≥–∏—Å—Ç—Ä—É**:
   - `USE_POSTGRES=true` ‚úÖ
   - `USE_POSTGRES=True` ‚ùå
   - `use_postgres=true` ‚ùå

3. **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ –≤–∫–ª–∞–¥–æ–∫**:
   - –ï—Å–ª–∏ –≤–∫–ª–∞–¥–∫–∞ `–í—ã–≥—Ä—É–∑–∫–∞ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π` –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç, –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø–æ–ø—ã—Ç–∞–µ—Ç—Å—è –µ—ë —Å–æ–∑–¥–∞—Ç—å
   - –î–ª—è —ç—Ç–æ–≥–æ –Ω—É–∂–Ω—ã –ø—Ä–∞–≤–∞ **–†–µ–¥–∞–∫—Ç–æ—Ä** –Ω–∞ —Ç–∞–±–ª–∏—Ü—É

## üöÄ –ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

1. **–ù–æ–≤—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏** –±—É–¥—É—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–æ–±–∞–≤–ª—è—Ç—å—Å—è –≤ —Ç–∞–±–ª–∏—Ü—É –ø—Ä–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
2. **–û—Ç—á—ë—Ç—ã** –±—É–¥—É—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –∫–∞–∫ —Ä–∞–Ω—å—à–µ
3. **–ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ –ª–æ–≥–∏** ‚Äî —Ç–∞–º –≤—Å—ë –≤–∏–¥–Ω–æ –ø—Ä–æ —É—Å–ø–µ—Ö–∏ –∏ –æ—à–∏–±–∫–∏

## ‚ùì –ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫—É: `python test_sheets_integration.py`
2. –ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –ª–æ–≥–∏: `GOOGLE_CREDENTIALS_JSON –Ω–µ —Å–æ–¥–µ—Ä–∂–∏—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π JSON` ‚Äî –∑–Ω–∞—á–∏—Ç –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è –Ω–µ–≤–µ—Ä–Ω–∞—è
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ —Å–µ—Ä–≤–∏—Å–Ω–æ–≥–æ –∞–∫–∫–∞—É–Ω—Ç–∞ –∫ —Ç–∞–±–ª–∏—Ü–µ
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∏–º—è –≤–∫–ª–∞–¥–∫–∏ (—Ä–µ–≥–∏—Å—Ç—Ä –≤–∞–∂–µ–Ω!)

---

**–ù–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ**: –í—Å–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏–º–µ–Ω–µ–Ω—ã –≤ –∫–æ–¥–µ. –í–∞–º –æ—Å—Ç–∞—ë—Ç—Å—è —Ç–æ–ª—å–∫–æ –æ–±–Ω–æ–≤–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –Ω–∞ Railway! ‚úÖ
